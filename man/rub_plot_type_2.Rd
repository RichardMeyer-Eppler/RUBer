% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rub_plot.R
\name{rub_plot_type_2}
\alias{rub_plot_type_2}
\title{Plot vertical stacked bar charts that are scaled to 100\% (figure type 2)}
\usage{
rub_plot_type_2(
  df,
  x_var,
  x_var_label = "",
  y_var,
  y_axis_label = "",
  fill_var,
  fill_label = NULL,
  fill_reverse = FALSE,
  facet_var = NULL,
  caption = "",
  caption_prefix = "Quelle:",
  filter_cutoff = 0.04,
  color = RUB_colors["blue"],
  palette_reverse = FALSE,
  base_family = "RubFlama",
  base_size = 11,
  max_width_strip_label = 80
)
}
\arguments{
\item{df}{Data frame}

\item{x_var}{Required variable name for the variable containing the discrete
x-coordinates.}

\item{x_var_label}{Optional variable name for the character variable
containing the names of the x variable, defaults to NULL.}

\item{y_var}{Required variable name for the variable containing the
y-coordinates. Will be coerced to numeric with \code{as.numeric}.}

\item{y_axis_label}{Optional label for the y-axis, defaults to an empty
string.}

\item{fill_var}{Variable name for the discrete variable which determines the
groups to be stacked, e.g. degree.}

\item{fill_label}{Optional variable name for the character variable
containing the names of the fill variable, defaults to NULL.}

\item{fill_reverse}{Boolean indicating whether the order of the fill variable
should be reversed, defaults to FALSE.}

\item{facet_var}{Optional variable name for the discrete variable to facet
by, defaults to NULL.}

\item{caption}{Optional character containing the data source for the figure
(prefix 'Quelle:' is automatically added).}

\item{caption_prefix}{Optional character containing the prefix for the
caption, defaults to 'Quelle:'.}

\item{filter_cutoff}{Optional cutoff value for the suppression of data
labels. By default, all values below 0.04 of the total value of the
stacked bar chart are suppressed.}

\item{color}{Color for font and borders, defaults to \code{RUB_colors["blue"]},
i.e. #003560.}

\item{palette_reverse}{Optional boolean indicating whether the colors in the
palette should be reversed, defaults to FALSE.}

\item{base_family}{base font family, defaults to RubFlama}

\item{base_size}{base font size, defaults to 11}

\item{max_width_strip_label}{Optional maximum width in characters for the facet
label passed to ggplot2::label_wrap_gen.}
}
\value{
A ggplot object
}
\description{
Plot vertical stacked bar charts that are scaled to 100\% (figure type 2)
}
\examples{
# Create test values for all three mandatory variables (x_var, y_var, fill_var)
df_t2_ex1 <- tibble::tribble(
  ~cohort_term, ~status_percentage, ~cohort_status,
  "2. cohort term", 0.9513551740, "Studying",
  "2. cohort term", 0.0029748098, "Changed subject",
  "2. cohort term", 0.0004673679, "Graduated",
  "2. cohort term", 0.0186648938, "Disenrolled without degree",
  "2. cohort term", 0.0265377545, "Dropped subject",
  "4. cohort term", 0.8896149868, "Studying",
  "4. cohort term", 0.0616919929, "Changed subject",
  "4. cohort term", 0.0016484686, "Graduated",
  "4. cohort term", 0.0201024499, "Disenrolled without degree",
  "4. cohort term", 0.0269421019, "Dropped subject",
  "6. cohort term", 0.7901183540, "Studying",
  "6. cohort term", 0.1502641318, "Changed subject",
  "6. cohort term", 0.0074548056, "Graduated",
  "6. cohort term", 0.0243490259, "Disenrolled without degree",
  "6. cohort term", 0.0278136827, "Dropped subject",
  "8. cohort term", 0.6115873010, "Studying",
  "8. cohort term", 0.2961468339, "Changed subject",
  "8. cohort term", 0.0104080044, "Graduated",
  "8. cohort term", 0.0274549015, "Disenrolled without degree",
  "8. cohort term", 0.0544029593, "Dropped subject",
)

rub_plot_type_2(
  df = df_t2_ex1,
  x_var = cohort_term,
  y_var = status_percentage,
  fill_var = cohort_status
)
}
