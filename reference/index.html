<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Function reference â€¢ RUBer</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Function reference"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">RUBer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/RUB_colors.html">Using RUB colors</a>
    <a class="dropdown-item" href="../articles/RUB_plot.html">Using the RUB plotting functions</a>
    <a class="dropdown-item" href="../articles/reference_docx.html">Formatting for the reference docx document</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/RichardMeyer-Eppler/RUBer/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-index">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Function reference</h1>
    </div>

    <div class="section level2">
      <h2 id="plotting">Plotting<a class="anchor" aria-label="anchor" href="#plotting"></a></h2>
      
      <p class="section-desc"></p><p>Plotting functions for each <code>figure_type_id</code>.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="plot_figure.html">plot_figure()</a></code> 
        </dt>
        <dd>Plot RUB figure</dd>
      </dl><dl><dt>
          
          <code><a href="rub_plot_type_1.html">rub_plot_type_1()</a></code> 
        </dt>
        <dd>Plot vertical stacked bar chart (figure type 1)</dd>
      </dl><dl><dt>
          
          <code><a href="rub_plot_type_1_and_4.html">rub_plot_type_1_and_4()</a></code> 
        </dt>
        <dd>Plot grouped line chart on top of vertical stacked bar chart (combination chart of figure types 1 and 4)</dd>
      </dl><dl><dt>
          
          <code><a href="rub_plot_type_2.html">rub_plot_type_2</a></code> 
        </dt>
        <dd>Plot vertical stacked bar charts that are scaled to 100\<!-- % (figure type 2)} -->

rub_plot_type_2(
  df,
  x_var,
  y_var,
  y_axis_label = "",
  fill_var,
  fill_label = NULL,
  fill_reverse = FALSE,
  facet_var = NULL,
  caption = "",
  caption_prefix = "Quelle:",
  filter_cutoff = 0.04,
  color = RUB_colors["blue"],
  palette_reverse = FALSE,
  base_family = "RubFlama",
  base_size = 11,
  max_width_strip_label = 80
)


dfData frame

x_varRequired variable name for the variable containing the discrete
x-coordinates.

y_varRequired variable name for the variable containing the
continuous y-coordinates.

y_axis_labelOptional label for the y-axis, defaults to an empty
string.

fill_varVariable name for the discrete variable which determines the
groups to be stacked, e.g. degree.

fill_labelOptional variable name for the character variable
containing the names of the fill variable, defaults to NULL.

fill_reverseBoolean indicating whether the order of the fill variable
should be reversed, defaults to FALSE.

facet_varOptional variable name for the discrete variable to facet
by, defaults to NULL.

captionOptional character containing the data source for the figure
(prefix 'Quelle:' is automatically added).

caption_prefixOptional character containing the prefix for the
caption, defaults to 'Quelle:'.

filter_cutoffOptional cutoff value for the suppression of data
labels. By default, all values below 0.04 of the total value of the
stacked bar chart are suppressed.

colorColor for font and borders, defaults to <code>RUB_colors["blue"]</code>,
i.e. #003560.

palette_reverseOptional boolean indicating whether the colors in the
palette should be reversed, defaults to FALSE.

base_familybase font family, defaults to RubFlama

base_sizebase font size, defaults to 11

max_width_strip_labelOptional maximum width in characters for the facet
label passed to ggplot2::label_wrap_gen.


A ggplot object


Plot vertical stacked bar charts that are scaled to 100\<!-- % (figure type 2) -->


# Create test values for all three mandatory variables (x_var, y_var, fill_var)
df_t2_ex1 &lt;- tibble::tribble(
  ~cohort_term, ~status_percentage, ~cohort_status,
  "2. cohort term", 0.9513551740, "Studying",
  "2. cohort term", 0.0029748098, "Changed subject",
  "2. cohort term", 0.0004673679, "Graduated",
  "2. cohort term", 0.0186648938, "Disenrolled without degree",
  "2. cohort term", 0.0265377545, "Dropped subject",
  "4. cohort term", 0.8896149868, "Studying",
  "4. cohort term", 0.0616919929, "Changed subject",
  "4. cohort term", 0.0016484686, "Graduated",
  "4. cohort term", 0.0201024499, "Disenrolled without degree",
  "4. cohort term", 0.0269421019, "Dropped subject",
  "6. cohort term", 0.7901183540, "Studying",
  "6. cohort term", 0.1502641318, "Changed subject",
  "6. cohort term", 0.0074548056, "Graduated",
  "6. cohort term", 0.0243490259, "Disenrolled without degree",
  "6. cohort term", 0.0278136827, "Dropped subject",
  "8. cohort term", 0.6115873010, "Studying",
  "8. cohort term", 0.2961468339, "Changed subject",
  "8. cohort term", 0.0104080044, "Graduated",
  "8. cohort term", 0.0274549015, "Disenrolled without degree",
  "8. cohort term", 0.0544029593, "Dropped subject",
)

rub_plot_type_2(
  df = df_t2_ex1,
  x_var = cohort_term,
  y_var = status_percentage,
  fill_var = cohort_status
)</dd>
      </dl><dl><dt>
          
          <code><a href="rub_plot_type_3.html">rub_plot_type_3</a></code> 
        </dt>
        <dd>Plot horizontal stacked bar charts that are scaled to 100\<!-- % (figure type 3)} -->

rub_plot_type_3(
  df,
  x_var,
  y_var,
  x_axis_label = NA_character_,
  fill_var,
  fill_label = NULL,
  fill_reverse = FALSE,
  legend_reverse = FALSE,
  facet_var = NULL,
  title = NA_character_,
  caption = "",
  caption_prefix = "Quelle:",
  filter_cutoff = 0.05,
  color = RUB_colors["blue"],
  palette_reverse = FALSE,
  base_family = "RubFlama",
  base_size = 11,
  max_width_axis_text_y = 30,
  max_width_strip_label = 80,
  plot_width = 6.8
)


dfData frame

x_varRequired variable name for the variable containing the discrete
x-coordinates.

y_varRequired variable name for the variable containing the
continuous y-coordinates.

x_axis_labelOptional label for the x-axis, defaults to an empty
string.

fill_varVariable name for the discrete variable which determines the
groups to be stacked, e.g. degree.

fill_labelOptional variable name for the character variable
containing the names of the fill variable, defaults to NULL.

fill_reverseBoolean indicating whether the order of the fill variable
should be reversed, defaults to FALSE.

legend_reverseOptional boolean indicating whether the legend should
be reverted, defaults to FALSE.

facet_varOptional variable name for the discrete variable to facet
by, defaults to NULL.

titleOptional plot title

captionOptional character containing the data source for the figure
(prefix 'Quelle:' is automatically added).

caption_prefixOptional character containing the prefix for the
caption, defaults to 'Quelle:'.

filter_cutoffOptional cutoff value for the suppression of data
labels. By default, all values below 0.04 of the total value of the
stacked bar chart are suppressed.

colorColor for font and borders, defaults to <code>RUB_colors["blue"]</code>,
i.e. #003560.

palette_reverseOptional boolean indicating whether the colors in the
palette should be reversed, defaults to FALSE.

base_familybase font family, defaults to RubFlama

base_sizebase font size, defaults to 11

max_width_axis_text_yOptional maximum width in characters for the
text of the y axis.

max_width_strip_labelOptional maximum width in characters for the facet
label passed to ggplot2::label_wrap_gen.

plot_widthWidth of the plot in inches, defaults to 6.8


A ggplot object


Plot horizontal stacked bar charts that are scaled to 100\<!-- % (figure type 3) -->


# Create test values for all three mandatory variables (x_var, y_var,
# fill_var)
df_t3_ex1 &lt;- tibble::tribble(
   ~survey_group, ~item_value, ~item_value_percentage,
   "Bachelor 1-Subject (n=400)", "Exceeded prescribed period of study", 0.30,
   "Bachelor 1-Subject (n=400)", "Within prescribed period of study", 0.70,
   "SG Bachelor 1-Subject (n=669)", "Exceeded prescribed period of study", 0.11,
   "SG Bachelor 1-Subject (n=669)", "Within prescribed period of study", 0.89
)

rub_plot_type_3(
   df = df_t3_ex1,
   x_var = item_value_percentage,
   y_var = survey_group,
   fill_var = item_value,
)</dd>
      </dl><dl><dt>
          
          <code><a href="rub_plot_type_4.html">rub_plot_type_4()</a></code> 
        </dt>
        <dd>Plot grouped line chart (figure type 4)</dd>
      </dl><dl><dt>
          
          <code><a href="get_legend_columns.html">get_legend_columns()</a></code> 
        </dt>
        <dd>Gets number of legend columns based on the plot width and the text base size</dd>
      </dl></div><div class="section level2">
      <h2 id="scaling">Scaling<a class="anchor" aria-label="anchor" href="#scaling"></a></h2>
      
      <p class="section-desc"></p><p>Scale functions for use with <code>ggplot2</code>.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="scale_color_rub.html">scale_color_rub()</a></code> 
        </dt>
        <dd>Color scale constructor for RUB colors</dd>
      </dl><dl><dt>
          
          <code><a href="scale_fill_rub.html">scale_fill_rub()</a></code> 
        </dt>
        <dd>Fill scale constructor for RUB colors</dd>
      </dl></div><div class="section level2">
      <h2 id="colors-and-palettes">Colors and palettes<a class="anchor" aria-label="anchor" href="#colors-and-palettes"></a></h2>
      
      <p class="section-desc"></p><p>Functions for retrieving the palettes and colors of the RUB corporate design, see the vignette on <code>Using RUB colors</code> for details.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="get_RUB_colors.html">get_RUB_colors()</a></code> 
        </dt>
        <dd>Function to extract RUB palette colors as hex codes</dd>
      </dl><dl><dt>
          
          <code><a href="get_RUB_palettes.html">get_RUB_palettes()</a></code> 
        </dt>
        <dd>Return function to interpolate a RUB color palette</dd>
      </dl><dl><dt>
          
          <code><a href="RUB_colors.html">RUB_colors</a></code> 
        </dt>
        <dd>RUB colors</dd>
      </dl><dl><dt>
          
          <code><a href="RUB_palettes.html">RUB_palettes</a></code> 
        </dt>
        <dd>RUB color palette</dd>
      </dl></div><div class="section level2">
      <h2 id="reporting-funcitons">Reporting funcitons<a class="anchor" aria-label="anchor" href="#reporting-funcitons"></a></h2>
      
      <p class="section-desc"></p><p>Functions for creating the parametric reports and associated helper functions, such as filter and file path functions.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="get_file_path.html">get_file_path()</a></code> 
        </dt>
        <dd>Get file path for automatic report generation</dd>
      </dl><dl><dt>
          
          <code><a href="filter_report.html">filter_report()</a></code> 
        </dt>
        <dd>Filter data frame based on <code>report_nr</code> column</dd>
      </dl><dl><dt>
          
          <code><a href="render_report.html">render_report()</a></code> 
        </dt>
        <dd>Render report</dd>
      </dl></div><div class="section level2">
      <h2 id="theming-functions">Theming functions<a class="anchor" aria-label="anchor" href="#theming-functions"></a></h2>
      
      <p class="section-desc"></p><p>Theming functions for ggplot2 objects, flextable objects and flextable cells.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="rub_style_flextable.html">rub_style_flextable()</a></code> 
        </dt>
        <dd>Applies RUB theme to flextable object</dd>
      </dl><dl><dt>
          
          <code><a href="theme_rub.html">theme_rub()</a></code> 
        </dt>
        <dd>Add RUB theme to ggplot object</dd>
      </dl><dl><dt>
          
          <code><a href="rub_format_mixed.html">rub_format_mixed()</a></code> 
        </dt>
        <dd>Format flextable mixed type columns (integer, percentages, NAs)</dd>
      </dl><dl><dt>
          
          <code><a href="rub_format_percent.html">rub_format_percent()</a></code> 
        </dt>
        <dd>Format flextable columns with percentages (percentages, NAs)</dd>
      </dl></div><div class="section level2">
      <h2 id="table-functions">Table functions<a class="anchor" aria-label="anchor" href="#table-functions"></a></h2>
      
      <p class="section-desc"></p><p>These functions take data frames as input and return formatted flextable objects.</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="rub_table_stg.html">rub_table_stg()</a></code> 
        </dt>
        <dd>Get formatted flextable of student cases</dd>
      </dl><dl><dt>
          
          <code><a href="rub_table_eb.html">rub_table_eb()</a></code> 
        </dt>
        <dd>Get formatted flextable of response rates for the Eingangsbefragung</dd>
      </dl><dl><dt>
          
          <code><a href="rub_table_vb.html">rub_table_vb()</a></code> 
        </dt>
        <dd>Get formatted flextable of response rates for the Verlaufsbefragung</dd>
      </dl><dl><dt>
          
          <code><a href="rub_table_ab.html">rub_table_ab()</a></code> 
        </dt>
        <dd>Get formatted flextable of response rates for the Absolvent:innenbefragung</dd>
      </dl><dl><dt>
          
          <code><a href="rub_table_programs.html">rub_table_programs()</a></code> 
        </dt>
        <dd>Get formatted flextable of funded projects</dd>
      </dl><dl><dt>
          
          <code><a href="rub_table_item.html">rub_table_item()</a></code> 
        </dt>
        <dd>Get formatted flextable of items with largest deviation from comparison group</dd>
      </dl><dl><dt>
          
          <code><a href="rub_table_metrics.html">rub_table_metrics()</a></code> 
        </dt>
        <dd>Get formatted flextable of metrics</dd>
      </dl></div><div class="section level2">
      <h2 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a></h2>
      
      <p class="section-desc"></p><p>Included data sets</p>

      
    </div><div id="" class="section level2">
      
      
      

      <dl><dt>
          
          <code><a href="df_fake.html">df_fake</a></code> 
        </dt>
        <dd>Fake data set illustrating the use of the RUBer parameterized
reporting package.</dd>
      </dl></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Richard Meyer-Eppler.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer></div>

  

  

  </body></html>

