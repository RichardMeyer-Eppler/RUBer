<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="RUBer">
<title>Using the RUB plotting functions • RUBer</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using the RUB plotting functions">
<meta property="og:description" content="RUBer">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">RUBer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/RUB_colors.html">Using RUB colors</a>
    <a class="dropdown-item" href="../articles/RUB_plot.html">Using the RUB plotting functions</a>
    <a class="dropdown-item" href="../articles/reference_docx.html">Formatting for the reference docx document</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/RichardMeyer-Eppler/RUBer/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="RUB_plot_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Using the RUB plotting functions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/RichardMeyer-Eppler/RUBer/blob/HEAD/vignettes/RUB_plot.Rmd" class="external-link"><code>vignettes/RUB_plot.Rmd</code></a></small>
      <div class="d-none name"><code>RUB_plot.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Setup</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://richardmeyer-eppler.github.io/RUBer" class="external-link">RUBer</a></span><span class="op">)</span>

<span class="co"># Attempts to register RubFlama font family, if that fails, </span>
<span class="co"># registers system dependent font for the alias "sans" instead. </span>
<span class="co"># This font family will be used as a parameter for all plots. </span>
<span class="va">font_family</span> <span class="op">&lt;-</span> <span class="fu">RUBer</span><span class="fu">::</span><span class="fu"><a href="../reference/register_font_df.html">register_font_df</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Warning: <span style="color: #BB0000;">✖</span> Font file "RubFlama-Regular.ttf" could not be found</span>
<span class="co">#&gt; <span style="color: #0000BB;">ℹ</span> Using fallback font "DejaVuSans" instead</span>
<span class="co">#&gt; <span style="color: #555555;">This warning is displayed once per session.</span></span>

<span class="co"># Required to use custom fonts</span>
<span class="fu">showtext</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_auto.html" class="external-link">showtext_auto</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>max.print <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span>

<span class="va">font_family</span>
<span class="co">#&gt; [1] "DejaVu Sans"</span>

<span class="fu">sysfonts</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sysfonts/man/font_families.html" class="external-link">font_families</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "sans"         "serif"        "mono"         "DejaVu Sans"  "wqy-microhei"</span>

<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">systemfonts</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/systemfonts/man/system_fonts.html" class="external-link">system_fonts</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>, n <span class="op">=</span> <span class="fl">500</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 57 × 5</span></span>
<span class="co">#&gt;    path                                                 index name  family style</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> /usr/share/fonts/truetype/lato/Lato-ThinItalic.ttf       0 Lato… Lato   Thin…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> /usr/share/fonts/truetype/liberation/LiberationSans…     0 Libe… Liber… Bold </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> /usr/share/fonts/truetype/lato/Lato-SemiboldItalic.…     0 Lato… Lato   Semi…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> /usr/share/fonts/truetype/liberation/LiberationMono…     0 Libe… Liber… Bold </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> /usr/share/fonts/truetype/lato/Lato-MediumItalic.ttf     0 Lato… Lato   Medi…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> /usr/share/fonts/truetype/dejavu/DejaVuSerif-Italic…     0 Deja… DejaV… Ital…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> /usr/share/fonts/truetype/liberation/LiberationMono…     0 Libe… Liber… Ital…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> /usr/share/fonts/truetype/dejavu/DejaVuSansCondense…     0 Deja… DejaV… Cond…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> /usr/share/fonts/truetype/liberation/LiberationSeri…     0 Libe… Liber… Bold </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> /usr/share/fonts/truetype/dejavu/DejaVuSans.ttf          0 Deja… DejaV… Book </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">11</span> /usr/share/fonts/truetype/liberation/LiberationSans…     0 Libe… Liber… Bold…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">12</span> /usr/share/fonts/truetype/lato/Lato-BlackItalic.ttf      0 Lato… Lato   Blac…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">13</span> /usr/share/fonts/truetype/lato/Lato-Medium.ttf           0 Lato… Lato   Medi…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">14</span> /usr/share/fonts/truetype/liberation/LiberationSeri…     0 Libe… Liber… Bold…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">15</span> /usr/share/fonts/truetype/lato/Lato-Bold.ttf             0 Lato… Lato   Bold </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">16</span> /usr/share/fonts/truetype/dejavu/DejaVuSerif-Bold.t…     0 Deja… DejaV… Bold </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">17</span> /usr/share/fonts/truetype/dejavu/DejaVuSansCondense…     0 Deja… DejaV… Cond…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">18</span> /usr/share/fonts/truetype/liberation/LiberationSeri…     0 Libe… Liber… Ital…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">19</span> /usr/share/fonts/truetype/liberation/LiberationSans…     0 Libe… Liber… Ital…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">20</span> /usr/share/fonts/truetype/liberation/LiberationSans…     0 Libe… Liber… Regu…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">21</span> /usr/share/fonts/truetype/dejavu/DejaVuSansMono.ttf      0 Deja… DejaV… Book </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">22</span> /usr/share/fonts/truetype/lato/Lato-Black.ttf            0 Lato… Lato   Black</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">23</span> /usr/share/fonts/truetype/dejavu/DejaVuSansCondense…     0 Deja… DejaV… Cond…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">24</span> /usr/share/fonts/truetype/dejavu/DejaVuSansMono-Bol…     0 Deja… DejaV… Bold…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">25</span> /usr/share/fonts/truetype/lato/Lato-Hairline.ttf         0 Lato… Lato   Hair…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">26</span> /usr/share/fonts/truetype/dejavu/DejaVuSerifCondens…     0 Deja… DejaV… Cond…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">27</span> /usr/share/fonts/truetype/noto/NotoColorEmoji.ttf        0 Noto… Noto … Regu…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">28</span> /usr/share/fonts/truetype/dejavu/DejaVuSansMono-Bol…     0 Deja… DejaV… Bold </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">29</span> /usr/share/fonts/truetype/liberation/LiberationSans…     0 Libe… Liber… Bold </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">30</span> /usr/share/fonts/truetype/lato/Lato-Thin.ttf             0 Lato… Lato   Thin </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">31</span> /usr/share/fonts/truetype/dejavu/DejaVuSans-BoldObl…     0 Deja… DejaV… Bold…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">32</span> /usr/share/fonts/truetype/liberation/LiberationSans…     0 Libe… Liber… Bold…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">33</span> /usr/share/fonts/truetype/dejavu/DejaVuSans-Bold.ttf     0 Deja… DejaV… Bold </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">34</span> /usr/share/fonts/truetype/dejavu/DejaVuSans-ExtraLi…     0 Deja… DejaV… Extr…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">35</span> /usr/share/fonts/truetype/lato/Lato-Semibold.ttf         0 Lato… Lato   Semi…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">36</span> /usr/share/fonts/truetype/dejavu/DejaVuSans-Oblique…     0 Deja… DejaV… Obli…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">37</span> /usr/share/fonts/truetype/liberation/LiberationMono…     0 Libe… Liber… Bold…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">38</span> /usr/share/fonts/truetype/dejavu/DejaVuSansMono-Obl…     0 Deja… DejaV… Obli…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">39</span> /usr/share/fonts/truetype/lato/Lato-BoldItalic.ttf       0 Lato… Lato   Bold…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">40</span> /usr/share/fonts/truetype/dejavu/DejaVuSansCondense…     0 Deja… DejaV… Cond…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">41</span> /usr/share/fonts/truetype/dejavu/DejaVuMathTeXGyre.…     0 Deja… DejaV… Regu…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">42</span> /usr/share/fonts/truetype/dejavu/DejaVuSerif.ttf         0 Deja… DejaV… Book </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">43</span> /usr/share/fonts/truetype/dejavu/DejaVuSerifCondens…     0 Deja… DejaV… Cond…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">44</span> /usr/share/fonts/truetype/liberation/LiberationSeri…     0 Libe… Liber… Regu…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">45</span> /usr/share/fonts/truetype/liberation/LiberationSans…     0 Libe… Liber… Regu…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">46</span> /usr/share/fonts/truetype/lato/Lato-Regular.ttf          0 Lato… Lato   Regu…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">47</span> /usr/share/fonts/truetype/lato/Lato-HairlineItalic.…     0 Lato… Lato   Hair…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">48</span> /usr/share/fonts/truetype/dejavu/DejaVuSerifCondens…     0 Deja… DejaV… Cond…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">49</span> /usr/share/fonts/truetype/lato/Lato-LightItalic.ttf      0 Lato… Lato   Ligh…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">50</span> /usr/share/fonts/truetype/liberation/LiberationSans…     0 Libe… Liber… Ital…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">51</span> /usr/share/fonts/truetype/lato/Lato-Italic.ttf           0 Lato… Lato   Ital…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">52</span> /usr/share/fonts/truetype/lato/Lato-Light.ttf            0 Lato… Lato   Light</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">53</span> /usr/share/fonts/truetype/lato/Lato-HeavyItalic.ttf      0 Lato… Lato   Heav…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">54</span> /usr/share/fonts/truetype/dejavu/DejaVuSerifCondens…     0 Deja… DejaV… Cond…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">55</span> /usr/share/fonts/truetype/lato/Lato-Heavy.ttf            0 Lato… Lato   Heavy</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">56</span> /usr/share/fonts/truetype/dejavu/DejaVuSerif-BoldIt…     0 Deja… DejaV… Bold…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">57</span> /usr/share/fonts/truetype/liberation/LiberationMono…     0 Libe… Liber… Regu…</span></code></pre></div>
<p>The plotting functions in RUBer do not extend the functionality provided by <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a> itself. By preconfiguring a lot of the parameters, though, RUBer’s plotting functions are meant to be more accessible and easier to use. One of the inspirations for this was the <code>bbplot</code> package used by the data team at BBC News.</p>
<div class="section level2">
<h2 id="figure-types">Figure Types<a class="anchor" aria-label="anchor" href="#figure-types"></a>
</h2>
<p>Available figure types:</p>
<ol style="list-style-type: decimal">
<li>Vertical stacked bar charts</li>
<li>Vertical stacked bar charts scaled to 100%</li>
<li>Horizontal stacked bar charts scaled to 100%</li>
<li>Line Chart</li>
<li>A combination of vertical stacked bar charts (type 1) with line charts (type 4)</li>
</ol>
<div class="section level3">
<h3 id="technical-note-on-font-sizes-and-text-rendering">Technical note on font sizes and text rendering<a class="anchor" aria-label="anchor" href="#technical-note-on-font-sizes-and-text-rendering"></a>
</h3>
<p>The default settings of theplot functions are optimized for the corporate design font, RUB Flama, and <a href="https://en.wikipedia.org/wiki/Windows_Metafile" class="external-link">Windows Enhanced Metafile (EMF)</a> as output format. Unfortunately, RUB Flama is not publicly available and cannot be made accessible to the Github server rendering this document and creating the example figures. In addition, the images in this document use a raster format, PNG, created by the <a href="https://ragg.r-lib.org" class="external-link">ragg</a> device, rather than the EMF vector format created by <code>{devEMF}</code>. Practically, all of this means that the default settings of the RUBer package do not work well for HTML output, including this document. You are not seeing the intended font, nor do the text sizes match what one would get in Microsoft Word.</p>
</div>
<div class="section level3">
<h3 id="figure-type-1---vertical-stacked-bar-charts">Figure Type 1 - Vertical stacked bar charts<a class="anchor" aria-label="anchor" href="#figure-type-1---vertical-stacked-bar-charts"></a>
</h3>
<p>For plotting vertical stacked bar charts, we use <code><a href="../reference/rub_plot_type_1.html">RUBer::rub_plot_type_1</a></code>. Three variable names are mandatory: <code>x_var</code> for the x-coordinate, <code>y_var</code> for the y-coordinate and <code>fill_var</code> for the fill variable, which determines the groups to be stacked. Consider this example:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Create test values for all three mandatory variables (x_var, y_var, fill_var).</span>
<span class="va">df_t1_ex1</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span>
  <span class="op">~</span><span class="va">term</span>, <span class="op">~</span><span class="va">students</span>, <span class="op">~</span><span class="va">degree</span>,
  <span class="st">"Spring '13"</span>, <span class="fl">120</span>, <span class="st">"Bachelor 1-Subject"</span>,
  <span class="st">"Spring '14"</span>, <span class="fl">105</span>, <span class="st">"Bachelor 1-Subject"</span>,
  <span class="st">"Spring '15"</span>, <span class="fl">124</span>, <span class="st">"Bachelor 1-Subject"</span>,
  <span class="st">"Spring '16"</span>, <span class="fl">114</span>, <span class="st">"Bachelor 1-Subject"</span>,
  <span class="st">"Spring '17"</span>, <span class="fl">122</span>, <span class="st">"Bachelor 1-Subject"</span>,
  <span class="st">"Spring '13"</span>, <span class="fl">121</span>, <span class="st">"Master 1-Subject"</span>,
  <span class="st">"Spring '14"</span>, <span class="fl">129</span>, <span class="st">"Master 1-Subject"</span>,
  <span class="st">"Spring '15"</span>, <span class="fl">122</span>, <span class="st">"Master 1-Subject"</span>,
  <span class="st">"Spring '16"</span>, <span class="fl">168</span>, <span class="st">"Master 1-Subject"</span>,
  <span class="st">"Spring '17"</span>, <span class="fl">7</span>, <span class="st">"Master 1-Subject"</span>,
<span class="op">)</span>

<span class="co"># x_var is mapped to term, y_var to students, and the fill_var to degree.</span>
<span class="co"># base_size increases the text sizes from the default, 11, to 14. The font</span>
<span class="co"># family is changed from "RubFlama" to "sans" (available on all systems).</span>
<span class="fu"><a href="../reference/rub_plot_type_1.html">rub_plot_type_1</a></span><span class="op">(</span>
  df <span class="op">=</span> <span class="va">df_t1_ex1</span>,
  x_var <span class="op">=</span> <span class="va">term</span>,
  y_var <span class="op">=</span> <span class="va">students</span>,
  fill_var <span class="op">=</span> <span class="va">degree</span>,
  base_size <span class="op">=</span> <span class="fl">14</span>,
  base_family <span class="op">=</span> <span class="st">"sans"</span>
<span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/rub-plot-type-1-1.png"><!-- --></p>
<p>Next a more complex example, in which we additionally provide the label for the y-axis, <code>y_axis_label</code> and a caption indicating the source of the data, <code>caption</code>. By default, the caption has the German prefix “<em>Quelle:</em>”, which we change to English “<em>Source:</em>” using the parameter <code>caption_prefix</code>. We also want to suppress the value label for Master students in the spring term of 2017, because the value is so small. By default, labels for values accounting for less than 4% of the total value are suppressed. In this case, the seven students account for 7/(7+122) = 5.4% of the total value, so we increase the value for <code>filter_cutoff</code> from the default of 0.04 to 0.06.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create test values for all three mandatory variables (x_var, y_var, fill_var).</span>
<span class="va">df_t1_ex2</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span>
   <span class="op">~</span><span class="va">term</span>, <span class="op">~</span><span class="va">students</span>, <span class="op">~</span><span class="va">degree</span>,
   <span class="st">"Spring '13"</span>, <span class="fl">120</span>, <span class="st">"Bachelor 1-Subject"</span>,
   <span class="st">"Spring '14"</span>, <span class="fl">105</span>, <span class="st">"Bachelor 1-Subject"</span>,
   <span class="st">"Spring '15"</span>, <span class="fl">124</span>, <span class="st">"Bachelor 1-Subject"</span>,
   <span class="st">"Spring '16"</span>, <span class="fl">114</span>, <span class="st">"Bachelor 1-Subject"</span>,
   <span class="st">"Spring '17"</span>, <span class="fl">122</span>, <span class="st">"Bachelor 1-Subject"</span>,
   <span class="st">"Spring '13"</span>, <span class="fl">121</span>, <span class="st">"Master 1-Subject"</span>,
   <span class="st">"Spring '14"</span>, <span class="fl">129</span>, <span class="st">"Master 1-Subject"</span>,
   <span class="st">"Spring '15"</span>, <span class="fl">122</span>, <span class="st">"Master 1-Subject"</span>,
   <span class="st">"Spring '16"</span>, <span class="fl">168</span>, <span class="st">"Master 1-Subject"</span>,
   <span class="st">"Spring '17"</span>, <span class="fl">7</span>, <span class="st">"Master 1-Subject"</span>
<span class="op">)</span>

<span class="co"># Set values for parameters setting the y-axis title, captioning the source data</span>
<span class="co"># and filtering small value labels (all labels below 6% of the stacked total).</span>
<span class="fu">RUBer</span><span class="fu">::</span><span class="fu"><a href="../reference/rub_plot_type_1.html">rub_plot_type_1</a></span><span class="op">(</span>
  df <span class="op">=</span> <span class="va">df_t1_ex2</span>,
  x_var <span class="op">=</span> <span class="va">term</span>,
  y_var <span class="op">=</span> <span class="va">students</span>,
  fill_var <span class="op">=</span> <span class="va">degree</span>,
  y_axis_label <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span>
    <span class="st">"Students (1st degree program, 1st and 2nd field of study)"</span>,
    width <span class="op">=</span> <span class="fl">35</span>
  <span class="op">)</span>,
  caption <span class="op">=</span> <span class="st">"Vignette example data"</span>,
  caption_prefix <span class="op">=</span> <span class="st">"Source:"</span>,
  filter_cutoff <span class="op">=</span> <span class="fl">0.06</span>,
  base_size <span class="op">=</span> <span class="fl">14</span>,
  base_family <span class="op">=</span> <span class="va">font_family</span>
<span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-1-example-2-1.png"><!-- --></p>
<p>The third example adds even more parameters. You can facet the figure by a discrete variable, <code>facet_var</code>, in order to make direct comparisons between groups, e.g. different departments. You can also change a figure’s default color with <code>color</code>, the default font with <code>base_family</code>, and the size of all text elements with <code>base_size</code> (see the documentation for <code><a href="../reference/theme_rub.html">RUBer::theme_rub()</a></code>).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create test values for all three mandatory variables (x_var, y_var, fill_var)</span>
<span class="co"># and the optional facet variable (facet_var).</span>
<span class="va">df_t1_ex3</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span>
   <span class="op">~</span><span class="va">term</span>, <span class="op">~</span><span class="va">students</span>, <span class="op">~</span><span class="va">degree</span>, <span class="op">~</span><span class="va">department</span>, 
   <span class="st">"Spring '13"</span>, <span class="fl">120</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,
   <span class="st">"Spring '14"</span>, <span class="fl">105</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,
   <span class="st">"Spring '15"</span>, <span class="fl">124</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,
   <span class="st">"Spring '16"</span>, <span class="fl">114</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,
   <span class="st">"Spring '17"</span>, <span class="fl">122</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,
   <span class="st">"Spring '13"</span>, <span class="fl">121</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,
   <span class="st">"Spring '14"</span>, <span class="fl">129</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,
   <span class="st">"Spring '15"</span>, <span class="fl">122</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,
   <span class="st">"Spring '16"</span>, <span class="fl">168</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,
   <span class="st">"Spring '17"</span>, <span class="fl">7</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Mathematics and Statistics"</span>,
   <span class="st">"Spring '13"</span>, <span class="fl">44</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,
   <span class="st">"Spring '14"</span>, <span class="fl">55</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,
   <span class="st">"Spring '15"</span>, <span class="fl">60</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,
   <span class="st">"Spring '16"</span>, <span class="fl">40</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,
   <span class="st">"Spring '17"</span>, <span class="fl">35</span>, <span class="st">"Bachelor 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,
   <span class="st">"Spring '13"</span>, <span class="fl">90</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,
   <span class="st">"Spring '14"</span>, <span class="fl">95</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,
   <span class="st">"Spring '15"</span>, <span class="fl">88</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,
   <span class="st">"Spring '16"</span>, <span class="fl">85</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>,
   <span class="st">"Spring '17"</span>, <span class="fl">92</span>, <span class="st">"Master 1-Subject"</span>, <span class="st">"Department of Philosophy"</span>
<span class="op">)</span>

<span class="co"># Facet by department, which effectively leads to two plots in one figure. </span>
<span class="co"># The main color is changed from RUB blue to dark red, and the size is increased</span>
<span class="co"># from 11 to 14.</span>
<span class="fu"><a href="../reference/rub_plot_type_1.html">rub_plot_type_1</a></span><span class="op">(</span>
  df <span class="op">=</span> <span class="va">df_t1_ex3</span>,
  x_var <span class="op">=</span> <span class="va">term</span>,
  y_var <span class="op">=</span> <span class="va">students</span>,
  fill_var <span class="op">=</span> <span class="va">degree</span>,
  y_axis_label <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span>
    string <span class="op">=</span> <span class="st">"Students (1st degree program, 1st and 2nd field of study)"</span>,
    width <span class="op">=</span> <span class="fl">35</span>
  <span class="op">)</span>,
  caption <span class="op">=</span> <span class="st">"Vignette example data"</span>,
  caption_prefix <span class="op">=</span> <span class="st">"Source:"</span>,
  filter_cutoff <span class="op">=</span> <span class="fl">0.06</span>,
  facet_var <span class="op">=</span> <span class="va">department</span>,
  color <span class="op">=</span> <span class="va">RUB_colors</span><span class="op">[</span><span class="st">"dark red"</span><span class="op">]</span>,
  base_family <span class="op">=</span> <span class="va">font_family</span>,
  base_size <span class="op">=</span> <span class="fl">14</span>
<span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-1-example-3-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="figure-type-2---vertical-stacked-bar-charts-scaled-to-100">Figure Type 2 - Vertical stacked bar charts scaled to 100%<a class="anchor" aria-label="anchor" href="#figure-type-2---vertical-stacked-bar-charts-scaled-to-100"></a>
</h3>
<p>Figure type 2, plotted with <code><a href="../reference/rub_plot_type_2.html">RUBer::rub_plot_type_2</a></code>, is very similar to type 1. The main differences are that the y-axis uses a percentage scale rather than an absolute one and that all stacked bars are scaled to 100%. Like for figure type 1, three variable names are mandatory: <code>x_var</code> for the x-coordinate, <code>y_var</code> for the y-coordinate and <code>fill_var</code> for the fill variable, which determines the groups to be stacked.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Create test data for all three mandatory variables (x_var, y_var, fill_var)</span>
<span class="va">df_t2_ex1</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span>
  <span class="op">~</span><span class="va">cohort_term</span>,     <span class="op">~</span><span class="va">status_percentage</span>,               <span class="op">~</span><span class="va">cohort_status</span>,
  <span class="st">"2. cohort term"</span>,              <span class="fl">0.951</span>,                   <span class="st">"Studying"</span>,
  <span class="st">"2. cohort term"</span>,              <span class="fl">0.003</span>,            <span class="st">"Changed subject"</span>,
  <span class="st">"2. cohort term"</span>,                  <span class="fl">0</span>,                  <span class="st">"Graduated"</span>,
  <span class="st">"2. cohort term"</span>,              <span class="fl">0.019</span>, <span class="st">"Disenrolled without degree"</span>,
  <span class="st">"2. cohort term"</span>,              <span class="fl">0.027</span>,            <span class="st">"Dropped subject"</span>,
  <span class="st">"4. cohort term"</span>,               <span class="fl">0.89</span>,                   <span class="st">"Studying"</span>,
  <span class="st">"4. cohort term"</span>,              <span class="fl">0.062</span>,            <span class="st">"Changed subject"</span>,
  <span class="st">"4. cohort term"</span>,              <span class="fl">0.002</span>,                  <span class="st">"Graduated"</span>,
  <span class="st">"4. cohort term"</span>,               <span class="fl">0.02</span>, <span class="st">"Disenrolled without degree"</span>,
  <span class="st">"4. cohort term"</span>,              <span class="fl">0.027</span>,            <span class="st">"Dropped subject"</span>,
  <span class="st">"6. cohort term"</span>,               <span class="fl">0.79</span>,                   <span class="st">"Studying"</span>,
  <span class="st">"6. cohort term"</span>,               <span class="fl">0.15</span>,            <span class="st">"Changed subject"</span>,
  <span class="st">"6. cohort term"</span>,              <span class="fl">0.007</span>,                  <span class="st">"Graduated"</span>,
  <span class="st">"6. cohort term"</span>,              <span class="fl">0.024</span>, <span class="st">"Disenrolled without degree"</span>,
  <span class="st">"6. cohort term"</span>,              <span class="fl">0.028</span>,            <span class="st">"Dropped subject"</span>,
  <span class="st">"8. cohort term"</span>,              <span class="fl">0.612</span>,                   <span class="st">"Studying"</span>,
  <span class="st">"8. cohort term"</span>,              <span class="fl">0.296</span>,            <span class="st">"Changed subject"</span>,
  <span class="st">"8. cohort term"</span>,               <span class="fl">0.01</span>,                  <span class="st">"Graduated"</span>,
  <span class="st">"8. cohort term"</span>,              <span class="fl">0.027</span>, <span class="st">"Disenrolled without degree"</span>,
  <span class="st">"8. cohort term"</span>,              <span class="fl">0.054</span>,            <span class="st">"Dropped subject"</span>
<span class="op">)</span>

<span class="fu"><a href="../reference/rub_plot_type_2.html">rub_plot_type_2</a></span><span class="op">(</span>
  df <span class="op">=</span> <span class="va">df_t2_ex1</span>,
  x_var <span class="op">=</span> <span class="va">cohort_term</span>,
  y_var <span class="op">=</span> <span class="va">status_percentage</span>,
  fill_var <span class="op">=</span> <span class="va">cohort_status</span>,
  base_family <span class="op">=</span> <span class="st">"sans"</span>
<span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/rub-plot-type-2-1.png"><!-- --></p>
<p>Now let us say we are unhappy with the default ordering of the stacked bars, because we want the largest cohort group, those still studying, on top. We can use the boolean parameter <code>fill_reverse</code> to do just that. We also provide a discrete facetting variable, <code>facet_var</code>, a text for <code>caption</code> and <code>caption_prefix</code>, and a higher threshhold for the <code>filter_cutoff</code>, leading to fewer labels being displayed.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df_t2_ex2</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span>
   <span class="op">~</span><span class="va">cohort_term</span>, <span class="op">~</span><span class="va">status_percentage</span>, <span class="op">~</span><span class="va">cohort_status</span>, <span class="op">~</span><span class="va">cohort_label</span>, 
   <span class="st">"2. cohort term"</span>, <span class="fl">0.9513551740</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"2. cohort term"</span>, <span class="fl">0.0029748098</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"2. cohort term"</span>, <span class="fl">0.0004673679</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"2. cohort term"</span>, <span class="fl">0.0186648938</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"2. cohort term"</span>, <span class="fl">0.0265377545</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"4. cohort term"</span>, <span class="fl">0.8896149868</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"4. cohort term"</span>, <span class="fl">0.0616919929</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"4. cohort term"</span>, <span class="fl">0.0016484686</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"4. cohort term"</span>, <span class="fl">0.0201024499</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"4. cohort term"</span>, <span class="fl">0.0269421019</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"6. cohort term"</span>, <span class="fl">0.7901183540</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"6. cohort term"</span>, <span class="fl">0.1502641318</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"6. cohort term"</span>, <span class="fl">0.0074548056</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"6. cohort term"</span>, <span class="fl">0.0243490259</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"6. cohort term"</span>, <span class="fl">0.0278136827</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"8. cohort term"</span>, <span class="fl">0.6115873010</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"8. cohort term"</span>, <span class="fl">0.2961468339</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"8. cohort term"</span>, <span class="fl">0.0104080044</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"8. cohort term"</span>, <span class="fl">0.0274549015</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"8. cohort term"</span>, <span class="fl">0.0544029593</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2011 (n=222)"</span>,
   <span class="st">"2. cohort term"</span>, <span class="fl">0.769899396</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"2. cohort term"</span>, <span class="fl">0.173399178</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"2. cohort term"</span>, <span class="fl">0.034702328</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"2. cohort term"</span>, <span class="fl">0.006062833</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"2. cohort term"</span>, <span class="fl">0.015936266</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"4. cohort term"</span>, <span class="fl">0.769421630</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"4. cohort term"</span>, <span class="fl">0.173700319</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"4. cohort term"</span>, <span class="fl">0.034742910</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"4. cohort term"</span>, <span class="fl">0.006156721</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"4. cohort term"</span>, <span class="fl">0.015978420</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"6. cohort term"</span>, <span class="fl">0.667217426</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"6. cohort term"</span>, <span class="fl">0.228271544</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"6. cohort term"</span>, <span class="fl">0.065634578</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"6. cohort term"</span>, <span class="fl">0.010729695</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"6. cohort term"</span>, <span class="fl">0.028146757</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"8. cohort term"</span>, <span class="fl">0.511075289</span>, <span class="st">"Studying"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"8. cohort term"</span>, <span class="fl">0.353166732</span>, <span class="st">"Changed subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"8. cohort term"</span>, <span class="fl">0.073315208</span>, <span class="st">"Graduated"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"8. cohort term"</span>, <span class="fl">0.026374195</span>, <span class="st">"Disenrolled without degree"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
   <span class="st">"8. cohort term"</span>, <span class="fl">0.036068576</span>, <span class="st">"Dropped subject"</span>, <span class="st">"Bachelor 1-Subject: Starting cohort fall 2012 (n=240)"</span>,
<span class="op">)</span>

<span class="fu"><a href="../reference/rub_plot_type_2.html">rub_plot_type_2</a></span><span class="op">(</span>
  df <span class="op">=</span> <span class="va">df_t2_ex2</span>,
  x_var <span class="op">=</span> <span class="va">cohort_term</span>,
  y_var <span class="op">=</span> <span class="va">status_percentage</span>,
  fill_var <span class="op">=</span> <span class="va">cohort_status</span>,
  facet_var <span class="op">=</span> <span class="va">cohort_label</span>,
  filter_cutoff <span class="op">=</span> <span class="fl">0.06</span>,
  caption <span class="op">=</span> <span class="st">"Comparison of two fictitious cohorts"</span>,
  caption_prefix <span class="op">=</span> <span class="st">"Source:"</span>,
  fill_reverse <span class="op">=</span> <span class="cn">TRUE</span>,
  base_size <span class="op">=</span> <span class="fl">14</span>,
  base_family <span class="op">=</span> <span class="va">font_family</span>
<span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-2-example-2-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="figure-type-3---horizontal-stacked-bar-charts-scaled-to-100">Figure Type 3 - Horizontal stacked bar charts scaled to 100%<a class="anchor" aria-label="anchor" href="#figure-type-3---horizontal-stacked-bar-charts-scaled-to-100"></a>
</h3>
<p>Figure type 3, plotted with <code><a href="../reference/rub_plot_type_3.html">RUBer::rub_plot_type_3</a></code>, is very similar to figure type 2, with the exception that the stacked bar charts are plotted horizontally. As with the first two figure types, three variable names are mandatory: <code>x_var</code> for the x-coordinate, <code>y_var</code> for the y-coordinate and <code>fill_var</code> for the fill variable, which determines the groups to be stacked.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Create test data for all three mandatory variables (x_var, y_var,</span>
<span class="co"># fill_var)</span>
<span class="va">df_t3_ex1</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span>
  <span class="op">~</span><span class="va">survey_group</span>,                                             <span class="op">~</span><span class="va">item_value</span>, <span class="op">~</span><span class="va">item_value_percentage</span>,
  <span class="st">"Bachelor 1-Subject (n=400)"</span>,    <span class="st">"Exceeded prescribed period of study"</span>,                    <span class="fl">0.3</span>,
  <span class="st">"Bachelor 1-Subject (n=400)"</span>,      <span class="st">"Within prescribed period of study"</span>,                    <span class="fl">0.7</span>,
  <span class="st">"SG Bachelor 1-Subject (n=669)"</span>, <span class="st">"Exceeded prescribed period of study"</span>,                   <span class="fl">0.11</span>,
  <span class="st">"SG Bachelor 1-Subject (n=669)"</span>,   <span class="st">"Within prescribed period of study"</span>,                   <span class="fl">0.89</span>
<span class="op">)</span>

<span class="fu"><a href="../reference/rub_plot_type_3.html">rub_plot_type_3</a></span><span class="op">(</span>
   df <span class="op">=</span> <span class="va">df_t3_ex1</span>,
   x_var <span class="op">=</span> <span class="va">item_value_percentage</span>,
   y_var <span class="op">=</span> <span class="va">survey_group</span>,
   fill_var <span class="op">=</span> <span class="va">item_value</span>,
   base_family <span class="op">=</span> <span class="st">"sans"</span>
<span class="op">)</span>
<span class="co">#&gt; Warning in dev_string_widths_c(as.character(strings), as.character(family), :</span>
<span class="co">#&gt; Font metric information not found for family 'sans_systemfonts'; using</span>
<span class="co">#&gt; 'Helvetica' instead</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/rub-plot-type-3-1.png"><!-- --></p>
<p>The second example once again adds a facetting variable, <code>fill_var</code>, for plotting direct comparisons between groups. We also use <code>caption</code>, <code>caption_prefix</code>, a <code>filter_cutoff</code> that suppresses all values below 20%, and increase the text size to 14.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df_t3_ex2</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span>
   <span class="op">~</span><span class="va">survey_group</span>, <span class="op">~</span><span class="va">item_value</span>, <span class="op">~</span><span class="va">item_value_percentage</span>, <span class="op">~</span><span class="va">degree</span>,
   <span class="st">"Bachelor 1-Subject (n=400)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.30</span>, <span class="st">"Bachelor 1-Subject"</span>,
   <span class="st">"Bachelor 1-Subject (n=400)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.60</span>, <span class="st">"Bachelor 1-Subject"</span>,
   <span class="st">"SG Bachelor 1-Subject (n=726)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.1122486</span>, <span class="st">"Bachelor 1-Subject"</span>,
   <span class="st">"SG Bachelor 1-Subject (n=726)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.8877514</span>, <span class="st">"Bachelor 1-Subject"</span>,
   <span class="st">"Master 1-Subject (n=369)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.1416009</span>, <span class="st">"Master 1-Subject"</span>,
   <span class="st">"Master 1-Subject (n=369)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.8583991</span>, <span class="st">"Master 1-Subject"</span>,
   <span class="st">"SG Master 1-Subject (n=669)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.4417682</span>, <span class="st">"Master 1-Subject"</span>,
   <span class="st">"SG Master 1-Subject (n=669)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.5582318</span>, <span class="st">"Master 1-Subject"</span>
<span class="op">)</span>

<span class="fu"><a href="../reference/rub_plot_type_3.html">rub_plot_type_3</a></span><span class="op">(</span>
   df <span class="op">=</span> <span class="va">df_t3_ex2</span>,
   x_var <span class="op">=</span> <span class="va">item_value_percentage</span>,
   y_var <span class="op">=</span> <span class="va">survey_group</span>,
   fill_var <span class="op">=</span> <span class="va">item_value</span>,
   facet_var <span class="op">=</span> <span class="va">degree</span>,
   caption <span class="op">=</span> <span class="st">"Graduate survey 2017/18"</span>,
   caption_prefix <span class="op">=</span> <span class="st">"Source:"</span>,
   filter_cutoff <span class="op">=</span> <span class="fl">0.20</span>,
   base_size <span class="op">=</span> <span class="fl">14</span>,
   base_family <span class="op">=</span> <span class="va">font_family</span>
<span class="op">)</span>
<span class="co">#&gt; Warning in dev_string_widths_c(as.character(strings), as.character(family), :</span>
<span class="co">#&gt; Font metric information not found for family 'DejaVu Sans_systemfonts'; using</span>
<span class="co">#&gt; 'Helvetica' instead</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-3-example-2-1.png"><!-- --></p>
<div class="section level4">
<h4 id="changing-ordering">Changing ordering<a class="anchor" aria-label="anchor" href="#changing-ordering"></a>
</h4>
<p>In the last example above, the ordering of the fill variable, item_value, is going from bad (“Exceeded prescribed period of study”) to good (“Within prescribed period of study”). This is because, by default, the fill variable will be ordered alphabetically if not a factor. So what if we want the fill variable ordered the other way? We can use the optional boolean parameter <code>fill_reverse</code> to change the ordering of the the fill variable and of the legend.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Reversed fill, reversed legend</span>
<span class="fu"><a href="../reference/rub_plot_type_3.html">rub_plot_type_3</a></span><span class="op">(</span>
   df <span class="op">=</span> <span class="va">df_t3_ex2</span>,
   x_var <span class="op">=</span> <span class="va">item_value_percentage</span>,
   y_var <span class="op">=</span> <span class="va">survey_group</span>,
   fill_var <span class="op">=</span> <span class="va">item_value</span>,
   facet_var <span class="op">=</span> <span class="va">degree</span>,
   caption <span class="op">=</span> <span class="st">"Graduate survey 2017/18"</span>,
   caption_prefix <span class="op">=</span> <span class="st">"Source:"</span>,
   filter_cutoff <span class="op">=</span> <span class="fl">0.20</span>,
   base_size <span class="op">=</span> <span class="fl">14</span>,
   base_family <span class="op">=</span> <span class="va">font_family</span>,
   fill_reverse <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-3-example-3-1.png"><!-- --></p>
<p>If we simply want to reverse the order of the legend items, without actually reversing the order of the stacked bar segments, we can use the optional parameter <code>legend_reverse</code> instead.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Reversed legend</span>
<span class="fu"><a href="../reference/rub_plot_type_3.html">rub_plot_type_3</a></span><span class="op">(</span>
   df <span class="op">=</span> <span class="va">df_t3_ex2</span>,
   x_var <span class="op">=</span> <span class="va">item_value_percentage</span>,
   y_var <span class="op">=</span> <span class="va">survey_group</span>,
   fill_var <span class="op">=</span> <span class="va">item_value</span>,
   facet_var <span class="op">=</span> <span class="va">degree</span>,
   caption <span class="op">=</span> <span class="st">"Graduate survey 2017/18"</span>,
   caption_prefix <span class="op">=</span> <span class="st">"Source:"</span>,
   filter_cutoff <span class="op">=</span> <span class="fl">0.20</span>,
   base_size <span class="op">=</span> <span class="fl">14</span>,
   base_family <span class="op">=</span> <span class="va">font_family</span>,
   legend_reverse <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-3-example-4-1.png"><!-- --></p>
<p>What if we want to use a custom ordering of the fill variable? Consider the following example:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df_t3_ex4</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span>
   <span class="op">~</span><span class="va">survey_group</span>, <span class="op">~</span><span class="va">item_value</span>, <span class="op">~</span><span class="va">item_value_percentage</span>, <span class="op">~</span><span class="va">degree</span>,
   <span class="st">"Bachelor 1-Subject (n=400)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.30</span>, <span class="st">"Bachelor 1-Subject"</span>,
   <span class="st">"Bachelor 1-Subject (n=400)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.60</span>, <span class="st">"Bachelor 1-Subject"</span>,
      <span class="st">"Bachelor 1-Subject (n=400)"</span>, <span class="st">"Unknown"</span>, <span class="fl">0.10</span>, <span class="st">"Bachelor 1-Subject"</span>,
   <span class="st">"SG Bachelor 1-Subject (n=726)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.11</span>, <span class="st">"Bachelor 1-Subject"</span>,
   <span class="st">"SG Bachelor 1-Subject (n=726)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.77</span>, <span class="st">"Bachelor 1-Subject"</span>,
      <span class="st">"SG Bachelor 1-Subject (n=726)"</span>, <span class="st">"Unknown"</span>, <span class="fl">0.12</span>, <span class="st">"Bachelor 1-Subject"</span>,
   <span class="st">"Master 1-Subject (n=369)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.12</span>, <span class="st">"Master 1-Subject"</span>,
   <span class="st">"Master 1-Subject (n=369)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.83</span>, <span class="st">"Master 1-Subject"</span>,
      <span class="st">"Master 1-Subject (n=369)"</span>, <span class="st">"Unknown"</span>, <span class="fl">0.04</span>, <span class="st">"Master 1-Subject"</span>,
   <span class="st">"SG Master 1-Subject (n=669)"</span>, <span class="st">"Exceeded prescribed period of study"</span>, <span class="fl">0.44</span>, <span class="st">"Master 1-Subject"</span>,
   <span class="st">"SG Master 1-Subject (n=669)"</span>, <span class="st">"Within prescribed period of study"</span>, <span class="fl">0.50</span>, <span class="st">"Master 1-Subject"</span>,
   <span class="st">"SG Master 1-Subject (n=669)"</span>, <span class="st">"Unknown"</span>, <span class="fl">0.05</span>, <span class="st">"Master 1-Subject"</span>
<span class="op">)</span>

<span class="fu"><a href="../reference/rub_plot_type_3.html">rub_plot_type_3</a></span><span class="op">(</span>
   df <span class="op">=</span> <span class="va">df_t3_ex4</span>,
   x_var <span class="op">=</span> <span class="va">item_value_percentage</span>,
   y_var <span class="op">=</span> <span class="va">survey_group</span>,
   fill_var <span class="op">=</span> <span class="va">item_value</span>,
   facet_var <span class="op">=</span> <span class="va">degree</span>,
   caption <span class="op">=</span> <span class="st">"Graduate survey 2017/18"</span>,
   caption_prefix <span class="op">=</span> <span class="st">"Source:"</span>,
   base_size <span class="op">=</span> <span class="fl">14</span>,
   base_family <span class="op">=</span> <span class="va">font_family</span>
<span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-3-example-5-1.png"><!-- --></p>
<p>Here, we neither want alphabetic ordering, nor its reverse. Instead, we would prefer an alphabetic ordering with the item_value “Unknown” always coming last. For this, we can explicitly turn the <code>fill_var</code> into a factor with a predetermined ordering. The plotting function will respect this ordering.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Take the data from previous example</span>
<span class="va">df_t3_ex5</span> <span class="op">&lt;-</span> <span class="va">df_t3_ex4</span>

<span class="co"># Turn the column "item_value" into a factor</span>
<span class="va">df_t3_ex5</span><span class="op">[[</span><span class="st">"item_value"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">df_t3_ex5</span><span class="op">[[</span><span class="st">"item_value"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>

<span class="co"># Examine the levels, default is alphabetic ordering</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">df_t3_ex5</span><span class="op">[[</span><span class="st">"item_value"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt; [1] "Exceeded prescribed period of study" "Unknown"                            </span>
<span class="co">#&gt; [3] "Within prescribed period of study"</span>

<span class="co"># Make sure that level unknown always comes last</span>
<span class="va">df_t3_ex5</span><span class="op">[[</span><span class="st">"item_value"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">forcats</span><span class="fu">::</span><span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_relevel.html" class="external-link">fct_relevel</a></span><span class="op">(</span>
   <span class="va">df_t3_ex5</span><span class="op">[[</span><span class="st">"item_value"</span><span class="op">]</span><span class="op">]</span>,
   <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Unknown"</span><span class="op">)</span>,
   after <span class="op">=</span> <span class="cn">Inf</span>
<span class="op">)</span>

<span class="co"># Check new ordering</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">df_t3_ex5</span><span class="op">[[</span><span class="st">"item_value"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt; [1] "Exceeded prescribed period of study" "Within prescribed period of study"  </span>
<span class="co">#&gt; [3] "Unknown"</span>

<span class="co"># Plot</span>
<span class="fu"><a href="../reference/rub_plot_type_3.html">rub_plot_type_3</a></span><span class="op">(</span>
   df <span class="op">=</span> <span class="va">df_t3_ex5</span>,
   x_var <span class="op">=</span> <span class="va">item_value_percentage</span>,
   y_var <span class="op">=</span> <span class="va">survey_group</span>,
   fill_var <span class="op">=</span> <span class="va">item_value</span>,
   facet_var <span class="op">=</span> <span class="va">degree</span>,
   caption <span class="op">=</span> <span class="st">"Graduate survey 2017/18"</span>,
   caption_prefix <span class="op">=</span> <span class="st">"Source:"</span>,
   base_size <span class="op">=</span> <span class="fl">14</span>,
   base_family <span class="op">=</span> <span class="va">font_family</span>
<span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/type-3-example-6-1.png"><!-- --></p>
</div>
</div>
<div class="section level3">
<h3 id="figure-type-4---line-charts">Figure Type 4 - Line Charts<a class="anchor" aria-label="anchor" href="#figure-type-4---line-charts"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Create test data for all three mandatory variables (x_var, y_var,</span>
<span class="co"># group_var)</span>
<span class="va">df_t4_ex1</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span>
  <span class="op">~</span><span class="va">term</span>,        <span class="op">~</span><span class="va">students</span>,              <span class="op">~</span><span class="va">degree</span>,
  <span class="st">"Spring '13"</span>,       <span class="fl">110</span>, <span class="st">"Bachelor 1-Subject"</span>,
  <span class="st">"Spring '14"</span>,       <span class="fl">105</span>, <span class="st">"Bachelor 1-Subject"</span>,
  <span class="st">"Spring '15"</span>,       <span class="fl">124</span>, <span class="st">"Bachelor 1-Subject"</span>,
  <span class="st">"Spring '16"</span>,       <span class="fl">114</span>, <span class="st">"Bachelor 1-Subject"</span>,
  <span class="st">"Spring '17"</span>,       <span class="fl">140</span>, <span class="st">"Bachelor 1-Subject"</span>,
  <span class="st">"Spring '13"</span>,       <span class="fl">121</span>,   <span class="st">"Master 1-Subject"</span>,
  <span class="st">"Spring '14"</span>,       <span class="fl">129</span>,   <span class="st">"Master 1-Subject"</span>,
  <span class="st">"Spring '15"</span>,       <span class="fl">135</span>,   <span class="st">"Master 1-Subject"</span>,
  <span class="st">"Spring '16"</span>,       <span class="fl">168</span>,   <span class="st">"Master 1-Subject"</span>,
  <span class="st">"Spring '17"</span>,         <span class="fl">7</span>,   <span class="st">"Master 1-Subject"</span>
<span class="op">)</span>

<span class="fu"><a href="../reference/rub_plot_type_4.html">rub_plot_type_4</a></span><span class="op">(</span>
  df <span class="op">=</span> <span class="va">df_t4_ex1</span>,
  x_var <span class="op">=</span> <span class="va">term</span>,
  y_var <span class="op">=</span> <span class="va">students</span>,
  group_var <span class="op">=</span> <span class="va">degree</span>,
  y_axis_label <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html" class="external-link">str_wrap</a></span><span class="op">(</span>
    string <span class="op">=</span> <span class="st">"Students (1st degree program, 1st and 2nd field of study)"</span>,
    width <span class="op">=</span> <span class="fl">35</span>
  <span class="op">)</span>,
  caption <span class="op">=</span> <span class="st">"Vignette example data"</span>,
  caption_prefix <span class="op">=</span> <span class="st">"Source:"</span>,
  base_family <span class="op">=</span> <span class="st">"sans"</span>
<span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/rub-plot-type-4-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="figure-type-1-and-4---vertical-stacked-bar-charts-combined-with-line-charts">Figure Type 1 and 4 - Vertical Stacked Bar Charts Combined with Line Charts<a class="anchor" aria-label="anchor" href="#figure-type-1-and-4---vertical-stacked-bar-charts-combined-with-line-charts"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">df_t1_and_t4_ex1</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span>
  <span class="op">~</span><span class="va">term</span>,        <span class="op">~</span><span class="va">students</span>,              <span class="op">~</span><span class="va">degree</span>,              <span class="op">~</span><span class="va">group</span>, <span class="op">~</span><span class="va">figure_type_id</span>,
  <span class="st">"Spring '13"</span>,       <span class="fl">120</span>, <span class="st">"Bachelor 1-Subject"</span>,                  <span class="cn">NA</span>,              <span class="fl">1L</span>,
  <span class="st">"Spring '14"</span>,       <span class="fl">105</span>, <span class="st">"Bachelor 1-Subject"</span>,                  <span class="cn">NA</span>,              <span class="fl">1L</span>,
  <span class="st">"Spring '15"</span>,       <span class="fl">124</span>, <span class="st">"Bachelor 1-Subject"</span>,                  <span class="cn">NA</span>,              <span class="fl">1L</span>,
  <span class="st">"Spring '16"</span>,       <span class="fl">114</span>, <span class="st">"Bachelor 1-Subject"</span>,                  <span class="cn">NA</span>,              <span class="fl">1L</span>,
  <span class="st">"Spring '17"</span>,       <span class="fl">122</span>, <span class="st">"Bachelor 1-Subject"</span>,                  <span class="cn">NA</span>,              <span class="fl">1L</span>,
  <span class="st">"Spring '13"</span>,       <span class="fl">121</span>,   <span class="st">"Master 1-Subject"</span>,                  <span class="cn">NA</span>,              <span class="fl">1L</span>,
  <span class="st">"Spring '14"</span>,       <span class="fl">129</span>,   <span class="st">"Master 1-Subject"</span>,                  <span class="cn">NA</span>,              <span class="fl">1L</span>,
  <span class="st">"Spring '15"</span>,       <span class="fl">122</span>,   <span class="st">"Master 1-Subject"</span>,                  <span class="cn">NA</span>,              <span class="fl">1L</span>,
  <span class="st">"Spring '16"</span>,       <span class="fl">168</span>,   <span class="st">"Master 1-Subject"</span>,                  <span class="cn">NA</span>,              <span class="fl">1L</span>,
  <span class="st">"Spring '17"</span>,         <span class="fl">7</span>,   <span class="st">"Master 1-Subject"</span>,                  <span class="cn">NA</span>,              <span class="fl">1L</span>,
  <span class="st">"Spring '13"</span>,        <span class="fl">20</span>,                   <span class="cn">NA</span>, <span class="st">"Freshman students"</span>,              <span class="fl">4L</span>,
  <span class="st">"Spring '14"</span>,        <span class="fl">30</span>,                   <span class="cn">NA</span>, <span class="st">"Freshman students"</span>,              <span class="fl">4L</span>,
  <span class="st">"Spring '15"</span>,        <span class="fl">41</span>,                   <span class="cn">NA</span>, <span class="st">"Freshman students"</span>,              <span class="fl">4L</span>,
  <span class="st">"Spring '16"</span>,        <span class="fl">27</span>,                   <span class="cn">NA</span>, <span class="st">"Freshman students"</span>,              <span class="fl">4L</span>,
  <span class="st">"Spring '17"</span>,        <span class="fl">35</span>,                   <span class="cn">NA</span>, <span class="st">"Freshman students"</span>,              <span class="fl">4L</span>
<span class="op">)</span>

<span class="fu"><a href="../reference/rub_plot_type_1_and_4.html">rub_plot_type_1_and_4</a></span><span class="op">(</span>
  df <span class="op">=</span> <span class="va">df_t1_and_t4_ex1</span>,
  x_var <span class="op">=</span> <span class="va">term</span>,
  y_var <span class="op">=</span> <span class="va">students</span>,
  fill_var <span class="op">=</span> <span class="va">degree</span>,
  group_var <span class="op">=</span> <span class="va">group</span>,
  base_family <span class="op">=</span> <span class="st">"sans"</span>
<span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/rub-plot-type-1-and-4-1.png"><!-- --></p>
</div>
</div>
<div class="section level2">
<h2 id="for-experienced-ggplot2-users">For experienced ggplot2 users<a class="anchor" aria-label="anchor" href="#for-experienced-ggplot2-users"></a>
</h2>
<p>The level of flexibility and customizability achievable through the plotting functions of RUBer are limited. At some point, it makes more sense to properly learn <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a> and to use the individual components directly (scales, colors, etc.). See the <a href="#resources">resources section</a> for help on getting started with <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a>.</p>
<div class="section level3">
<h3 id="applying-the-rub-theme">Applying the RUB Theme<a class="anchor" aria-label="anchor" href="#applying-the-rub-theme"></a>
</h3>
<p>The function <code>theme_rub</code> is a normal <code><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">ggplot2::theme()</a></code> function based on <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">ggplot2::theme_minimal()</a></code>. You can use it for any ggplot object:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Base plot</span>
<span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>
   data <span class="op">=</span> <span class="va">mtcars</span>,
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">mpg</span>,
      y <span class="op">=</span> <span class="va">disp</span>,
      color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">carb</span><span class="op">)</span>
   <span class="op">)</span>
<span class="op">)</span> <span class="op">+</span> 
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/theme_rub.html">theme_rub</a></span><span class="op">(</span>
     base_family <span class="op">=</span> <span class="va">font_family</span>
   <span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/theme-rub-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="scale-functions">Scale Functions<a class="anchor" aria-label="anchor" href="#scale-functions"></a>
</h3>
<p>The RUB palettes are used through corresponding scale functions. Currently, (1) <code>scale_color_rub</code> (a wrapper for <code><a href="https://ggplot2.tidyverse.org/reference/discrete_scale.html" class="external-link">ggplot2::discrete_scale()</a></code> if discrete, or for <code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html" class="external-link">ggplot2::scale_color_gradientn()</a></code> if continuous) and (2) <code>scale_fill_rub</code> (a wrapper for <code><a href="https://ggplot2.tidyverse.org/reference/discrete_scale.html" class="external-link">ggplot2::discrete_scale()</a></code> if discrete, or for <code><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html" class="external-link">ggplot2::scale_fill_gradientn()</a></code> if continuous) are implemented. Use these scale functions to ensure that appropriate RUB palettes and colors are used.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Basic themed plot with discrete scale function</span>
<span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>
   data <span class="op">=</span> <span class="va">mtcars</span>,
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">mpg</span>,
      y <span class="op">=</span> <span class="va">disp</span>,
      color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">carb</span><span class="op">)</span>
      <span class="op">)</span>
   <span class="op">)</span> <span class="op">+</span> 
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>
     size <span class="op">=</span> <span class="fl">3</span>
   <span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/scale_color_rub.html">scale_color_rub</a></span><span class="op">(</span>
      palette <span class="op">=</span> <span class="st">"discrete"</span>
   <span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/theme_rub.html">theme_rub</a></span><span class="op">(</span>
     base_size <span class="op">=</span> <span class="fl">14</span>,
     base_family <span class="op">=</span> <span class="va">font_family</span>
   <span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/theme-rub-color-discrete-1.png"><!-- --></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># By default, the theme shows no axis labels and no legend title. Use the </span>
<span class="co"># boolean parameters x_axis_label, y_axis_label and legend_title to activate </span>
<span class="co"># them.</span>
<span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>
   data <span class="op">=</span> <span class="va">mtcars</span>,
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">mpg</span>,
      y <span class="op">=</span> <span class="va">disp</span>,
      color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">carb</span><span class="op">)</span>
   <span class="op">)</span>
<span class="op">)</span> <span class="op">+</span> 
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>
     size <span class="op">=</span> <span class="fl">3</span>
   <span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/scale_color_rub.html">scale_color_rub</a></span><span class="op">(</span>
      palette <span class="op">=</span> <span class="st">"discrete"</span>
   <span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/theme_rub.html">theme_rub</a></span><span class="op">(</span>
      base_size <span class="op">=</span> <span class="fl">14</span>,
      base_family <span class="op">=</span> <span class="va">font_family</span>,
      x_axis_label <span class="op">=</span> <span class="cn">TRUE</span>,
      y_axis_label <span class="op">=</span> <span class="cn">TRUE</span>,
      legend_title <span class="op">=</span> <span class="cn">FALSE</span>
   <span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/theme-rub-color-discrete-2.png"><!-- --></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Reverse the color palette by setting reverse to TRUE in the scale function</span>
<span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>
   data <span class="op">=</span> <span class="va">mtcars</span>,
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">mpg</span>,
      y <span class="op">=</span> <span class="va">disp</span>,
      color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">carb</span><span class="op">)</span>
   <span class="op">)</span>
<span class="op">)</span> <span class="op">+</span> 
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>
     size <span class="op">=</span> <span class="fl">3</span>
   <span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/scale_color_rub.html">scale_color_rub</a></span><span class="op">(</span>
      palette <span class="op">=</span> <span class="st">"discrete"</span>,
      reverse <span class="op">=</span> <span class="cn">TRUE</span>
   <span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/theme_rub.html">theme_rub</a></span><span class="op">(</span>
      base_size <span class="op">=</span> <span class="fl">14</span>,
      base_family <span class="op">=</span> <span class="va">font_family</span>,
      x_axis_label <span class="op">=</span> <span class="cn">TRUE</span>,
      y_axis_label <span class="op">=</span> <span class="cn">TRUE</span>,
      legend_title <span class="op">=</span> <span class="cn">FALSE</span>
   <span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/theme-rub-color-discrete-3.png"><!-- --></p>
<p>Continuous scales are used by setting <code>discrete</code> to <code>FALSE</code> and by providing the name of a continuous palette to <code>palette</code> (see <code><a href="../articles/RUB_colors.html">vignette("RUB_colors")</a></code>).</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Basic plot with continuous scale function</span>
<span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>
   data <span class="op">=</span> <span class="va">mtcars</span>,
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">mpg</span>,
      y <span class="op">=</span> <span class="va">disp</span>,
      color <span class="op">=</span> <span class="va">disp</span>
   <span class="op">)</span>
<span class="op">)</span> <span class="op">+</span> 
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>
     size <span class="op">=</span> <span class="fl">3</span>
   <span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/scale_color_rub.html">scale_color_rub</a></span><span class="op">(</span>
      palette <span class="op">=</span> <span class="st">"continuous"</span>,
      discrete <span class="op">=</span> <span class="cn">FALSE</span>
   <span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/theme_rub.html">theme_rub</a></span><span class="op">(</span>
      base_size <span class="op">=</span> <span class="fl">14</span>,
      base_family <span class="op">=</span> <span class="va">font_family</span>,
      x_axis_label <span class="op">=</span> <span class="cn">TRUE</span>,
      y_axis_label <span class="op">=</span> <span class="cn">TRUE</span>,
      legend_title <span class="op">=</span> <span class="cn">TRUE</span>
   <span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/theme-rub-color-continuous-1.png"><!-- --></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Reverse the color palette by setting reverse to TRUE in the scale function</span>
<span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>
   data <span class="op">=</span> <span class="va">mtcars</span>,
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">mpg</span>,
      y <span class="op">=</span> <span class="va">disp</span>,
      color <span class="op">=</span> <span class="va">disp</span>
   <span class="op">)</span>
<span class="op">)</span> <span class="op">+</span> 
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>
     size <span class="op">=</span> <span class="fl">3</span>
   <span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/scale_color_rub.html">scale_color_rub</a></span><span class="op">(</span>
      palette <span class="op">=</span> <span class="st">"continuous"</span>,
      discrete <span class="op">=</span> <span class="cn">FALSE</span>,
      reverse <span class="op">=</span> <span class="cn">TRUE</span>
   <span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/theme_rub.html">theme_rub</a></span><span class="op">(</span>
      base_size <span class="op">=</span> <span class="fl">14</span>,
      base_family <span class="op">=</span> <span class="va">font_family</span>,
      x_axis_label <span class="op">=</span> <span class="cn">TRUE</span>,
      y_axis_label <span class="op">=</span> <span class="cn">TRUE</span>,
      legend_title <span class="op">=</span> <span class="cn">TRUE</span>
   <span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/theme-rub-color-continuous-2.png"><!-- --></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Example of continuous_diverging palette</span>
<span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>
   data <span class="op">=</span> <span class="va">mtcars</span>,
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">mpg</span>,
      y <span class="op">=</span> <span class="va">disp</span>,
      color <span class="op">=</span> <span class="va">disp</span>
   <span class="op">)</span>
<span class="op">)</span> <span class="op">+</span> 
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>
     size <span class="op">=</span> <span class="fl">3</span>
   <span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/scale_color_rub.html">scale_color_rub</a></span><span class="op">(</span>
      palette <span class="op">=</span> <span class="st">"continuous_diverging"</span>,
      discrete <span class="op">=</span> <span class="cn">FALSE</span>
   <span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/theme_rub.html">theme_rub</a></span><span class="op">(</span>
      base_size <span class="op">=</span> <span class="fl">14</span>,
      base_family <span class="op">=</span> <span class="va">font_family</span>,
      x_axis_label <span class="op">=</span> <span class="cn">TRUE</span>,
      y_axis_label <span class="op">=</span> <span class="cn">TRUE</span>,
      legend_title <span class="op">=</span> <span class="cn">TRUE</span>
   <span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/theme-rub-color-continuous-3.png"><!-- --></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>
   data <span class="op">=</span> <span class="va">mtcars</span>,
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>
      x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">gear</span><span class="op">)</span>,
      fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">vs</span><span class="op">)</span>
      <span class="op">)</span>
   <span class="op">)</span> <span class="op">+</span> 
   <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
   <span class="fu"><a href="../reference/scale_fill_rub.html">scale_fill_rub</a></span><span class="op">(</span>
      palette <span class="op">=</span> <span class="st">"discrete_2"</span>
   <span class="op">)</span> <span class="op">+</span> 
   <span class="fu"><a href="../reference/theme_rub.html">theme_rub</a></span><span class="op">(</span>
      base_size <span class="op">=</span> <span class="fl">14</span>,
      base_family <span class="op">=</span> <span class="va">font_family</span>,
      x_axis_label <span class="op">=</span> <span class="cn">TRUE</span>,
      y_axis_label <span class="op">=</span> <span class="cn">TRUE</span>,
      legend_title <span class="op">=</span> <span class="cn">TRUE</span>
   <span class="op">)</span></code></pre></div>
<p><img src="RUB_plot_files/figure-html/theme-rub-scale-1.png"><!-- --></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Turn off showtext after plotting</span>
<span class="fu">showtext</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_auto.html" class="external-link">showtext_auto</a></span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="resources">Resources for learning ggplot2<a class="anchor" aria-label="anchor" href="#resources"></a>
</h2>
<div class="section level3">
<h3 id="books">Books<a class="anchor" aria-label="anchor" href="#books"></a>
</h3>
<ol style="list-style-type: decimal">
<li>The <a href="https://r4ds.had.co.nz/data-visualisation.html" class="external-link">Data visualisation</a> and <a href="https://r4ds.had.co.nz/graphics-for-communication.html" class="external-link">Graphics for communication</a> chapters in <a href="https://r4ds.had.co.nz" class="external-link">R for Data Science</a> by Garrett Grolemund and Hadley Wickham,</li>
<li>The <a href="https://r-graphics.org/" class="external-link">R Graphics Cookbook, 2nd Edition</a> by Winston Chang,</li>
<li>
<a href="http://socviz.co/" class="external-link">Data Visualization - A practical introduction</a> by Kieran Healy,</li>
<li>
<a href="https://ggplot2-book.org/" class="external-link">ggplot2 - Elegant Graphics for Data Analysis, 3rd Edition</a> by Hadley Wickham.</li>
</ol>
</div>
<div class="section level3">
<h3 id="presentations-and-tutorials">Presentations and tutorials<a class="anchor" aria-label="anchor" href="#presentations-and-tutorials"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<a href="https://designing-ggplots.netlify.com/" class="external-link">Designing ggplots - making clear figures that communicate</a> by Malcolm Barrett,</li>
<li>
<a href="https://cedricscherer.netlify.com/2019/08/05/a-ggplot2-tutorial-for-beautiful-plotting-in-r/" class="external-link">A ggplot2 Tutorial for Beautiful Plotting in R</a> by Cédric Scherer,</li>
<li>
<a href="https://github.com/clauswilke/practical_ggplot2" class="external-link">Step-by-step examples of building publication-quality figures in ggplot2</a> by Claus Wilke,</li>
<li>
<a href="https://www.garrickadenbuie.com/talk/trug-ggplot2/" class="external-link">A Gentle Guide to the Grammar of Graphics with ggplot2</a> by Garrick Aden-Buie.</li>
</ol>
</div>
<div class="section level3">
<h3 id="interactive-courses">Interactive courses<a class="anchor" aria-label="anchor" href="#interactive-courses"></a>
</h3>
<ul>
<li>The <a href="https://rstudio.cloud/learn/primers/3" class="external-link">R Studio Cloud Primer on ggplot2</a>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="further-reading">Further Reading<a class="anchor" aria-label="anchor" href="#further-reading"></a>
</h3>
<ul>
<li><a href="https://github.com/bbc/bbplot" class="external-link">BBC - bbplot package</a></li>
<li><a href="https://bbc.github.io/rcookbook/" class="external-link">BBC Visual and Data Journalism cookbook for R graphics</a></li>
<li><a href="https://resources.rstudio.com/rstudio-conf-2020/best-practices-for-programming-with-ggplot2-dewey-dunnington" class="external-link">Dewey Dunnington at rstudio::conf 2020 - Best practices for programming with ggplot2</a></li>
<li><a href="https://ggplot2.tidyverse.org/dev/articles/ggplot2-in-packages.html" class="external-link">gglot 2 vignette - Using ggplot2 in packages</a></li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Richard Meyer-Eppler.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
